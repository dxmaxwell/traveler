extends layout.pug

block head
  meta(charset='urf-8')
  if (typeof id === 'undefined')
    title FRIB - new form
  else
    title FRIB - forms - #{title}
  meta(name='viewport', content='width=device-width, initial-scale=1.0')
  link(rel='stylesheet', href=basePath + '/bootstrap/css/bootstrap.css')
  link(rel='stylesheet', href=basePath + '/bootstrap/css/bootstrap-responsive.css')
  link(rel='stylesheet', href=basePath + '/jquery/ui-lightness/jquery-ui-1.10.2.custom.css')
  link(rel='stylesheet', href=basePath + '/font-awesome-4.3.0/css/font-awesome.css')
  link(rel='stylesheet', href=basePath + '/stylesheets/style.css')

block content
  script(type='text/javascript').
    var id = '!{id}';
    var formStatus = !{JSON.stringify(locals.status)} || 0;
  .container
    #message
    .modal.hide.fade#modal(tabindex='-1', role='dialog', data-backdrop='static', aria-labelledby='modalLabel', aria-hidden='true')
      .modal-header
        h3#modalLabel
      .modal-body
      .modal-footer
    h3#formtitle #{title}
    .well-large
      form.form-horizontal#output
        != html
    if (locals.status === 0)
      .btn-group.dropdown
        button.btn.dropdown-toggle#input-items(type='button', data-toggle='dropdown') Basic inputs
          span.caret
        ul.dropdown-menu
          li#add-checkbox
            a Checkbox
          li#add-text
            a Text
          li#add-figure
            a Figure
          li#add-par
            a Paragraph
          li#add-number
            a Number
          li#add-file
            a Upload file
          li#add-other
            a other types
      .btn-group.dropdown
        button.btn.dropdown-toggle#struct-items(type='button', data-toggle='dropdown') Advanced control
          span.caret
        ul.dropdown-menu
          //- li#add-grid
          //-   a Grid
          li#add-section
            a Section
          li#add-rich
            a Rich instruction
      .btn-group
        button.btn#adjust Adjust location
      .btn-group
        button.btn.btn-primary#save Save
    .btn-group
      button.btn.btn-info#preview(type='button', data-toggle='tooltip', title='the form needs be saved first', target='_blank') Preview
    .btn-group
      button.btn.btn-primary#saveas(type='button', data-toggle='tooltip', title='create a copy of current form') Save as
    if (locals.status === 0)
      .btn-group
        button.btn.btn-primary#rename(type='button', data-toggle='tooltip', title='rename the form') Rename
      //- .btn-group
        button.btn.btn-primary#ready(data-toggle='tooltip', title='ready to publish form') Ready to publish
    if (locals.status === 0.5)
      .btn-group
        button.btn.btn-primary#publish(type='button', data-toggle='tooltip', title='publish the form') Publish
    if (locals.status === 1)
      .btn-group
        button.btn.btn-primary#obsolete(type='button', data-toggle='tooltip', title='Obsolete the form') Obsolete
  br
  br
  br
  br
  br
  br
  br
  br
  br
  br

block js
  script(type='text/javascript', src=basePath + '/jquery/jquery-1.9.1.js')
  script(type='text/javascript', src=basePath + '/jquery/jquery-ui-1.10.2.custom.js')
  script(type='text/javascript', src=basePath + '/bootstrap/js/bootstrap.js')
  script(type='text/javascript', src=basePath + '/rivets/rivets.min.js')
  script(type='text/javascript', src=basePath + '/tinymce/tinymce.min.js')
  script(type='text/javascript', src=basePath + '/tinymce/jquery.tinymce.min.js')
  script(type='text/javascript', src=basePath + '/dependencies/moment.js')
  script(type='text/javascript', src=basePath + '/dependencies/livestamp.js')
  script(type='text/javascript', src=basePath + '/builder/input.js')
  script(type='text/javascript', src=basePath + '/builder/spec.js')
  script(type='text/javascript', src=basePath + '/javascripts/uid.js')
  script(type='text/javascript', src=basePath + '/javascripts/ajax-helper.js')
  script(type='text/javascript', src=basePath + '/javascripts/form-builder.js')
